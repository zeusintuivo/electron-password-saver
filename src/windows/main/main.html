<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Password Keychain</title>

    <link href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="../../bower_components/material-design-lite/material.min.css" rel="stylesheet" />
    <link href="../../common/app.css" rel="stylesheet" />

    <script src="../../bower_components/material-design-lite/material.min.js"></script>
    <script src="../../bower_components/angular/angular.min.js"></script>

</head>
<body>

    <section class="container">
        <header id="header">
            <h1>Password Keychain</h1>
        </header>

        <div ng-controller="MainCtrl as vm" class="ng-cloak">
            <button toggle-insert-view class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect">
                <i class="material-icons">add</i>
            </button>

            <div class="keychain">
                <div id="p2" class="mdl-progress mdl-js-progress mdl-progress__indeterminate" ng-if="!vm.keychain"></div>
                <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" ng-if="vm.keychain">
                    <thead>
                        <tr>
                            <th class="mdl-data-table__cell--non-numeric">Description</th>
                            <th>Username</th>
                            <th>Password</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in vm.keychain track by $index" class="item--{{$index}}">
                            <td class="mdl-data-table__cell--non-numeric">{{item.description}}</td>
                            <td>{{item.username || 'n/a'}}</td>
                            <td>
                                <span ng-repeat="n in [1,2,3,4,5,6]">&bull;</span>
                            </td>
                            <td>
                                <a href="#" copy-password="{{$index}}">copy</a>
                                <a href="#" remove-password="{{item}}">remove</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <script>require('./main.controller.js');</script>
    <script src="../../common/utils.js"></script>
    <script src="./main.view.js"></script>
    <script>
        angular
            .element(document)
            .ready(function() {
                angular.bootstrap(document.body, ['MainView']);
            });
    </script>
</body>
</html>
